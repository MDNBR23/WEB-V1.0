<!doctype html><html lang="es"><head>
<meta charset="utf-8">
<script src="src/utils/i18n.js"></script>
  <script src="src/utils/themeCustomizer.js"></script>
<script>
(function(){
  var themeMode = localStorage.getItem('themeMode') || 'light';
  var themeMode = localStorage.getItem('themeMode') || 'light';
  document.documentElement.setAttribute('data-theme', themeMode);
})();
</script>
<script>(function(){var r=localStorage.getItem('userRole');if(r==='admin'){document.addEventListener('DOMContentLoaded',function(){var a=document.getElementById('adminNavLink');if(a)a.style.display='flex';});}})();</script>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#475569">
<title>Med Tools Hub</title>
<link rel="icon" type="image/png" href="favicon.png">
<link rel="stylesheet" href="style.css">
<style>
  .search-box-container {
    position: relative;
    margin-bottom: 20px;
  }
  .search-icon {
    position: absolute;
    left: 16px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 20px;
    color: var(--muted);
  }
  #drugSearch {
    width: 100%;
    padding: 14px 14px 14px 50px;
    border: 2px solid var(--border);
    border-radius: 12px;
    font-size: 16px;
    transition: all 0.2s ease;
  }
  #drugSearch:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(0,139,139,0.1);
  }
  .stats-row {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .stat-badge {
    background: rgba(var(--primary-rgb), 0.08);
    padding: 12px 20px;
    border-radius: 10px;
    border: 2px solid var(--border);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .stat-badge strong {
    color: var(--primary);
    font-size: 18px;
    font-weight: 700;
  }
  .stat-badge span {
    color: var(--muted);
    font-size: 14px;
  }
  .table-wrap {
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid var(--border);
  }
  #drugTable {
    margin: 0;
  }
  #drugTable thead {
    background: var(--primary);
    color: white;
  }
  #drugTable thead th {
    color: white;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 13px;
    letter-spacing: 0.5px;
  }
  #drugTable tbody tr {
    transition: all 0.2s ease;
  }
  #drugTable tbody tr:hover {
    background: rgba(0,139,139,0.05);
  }
  .coming-soon {
    background: rgba(var(--warning-rgb), 0.08);
    color: var(--text);
    padding: 20px;
    border-radius: 12px;
    margin-top: 20px;
    text-align: center;
    border: 1px solid rgba(var(--warning-rgb), 0.2);
  }
  .coming-soon h4 {
    margin: 0 0 8px 0;
    font-size: 18px;
    color: var(--warning);
  }
  .coming-soon p {
    margin: 0;
    opacity: 0.85;
    font-size: 14px;
    color: var(--text);
  }
</style>
<script>
  document.documentElement.classList.add('preload');
  window.addEventListener('DOMContentLoaded', function(){
    document.body.classList.add('loaded');
    document.documentElement.classList.remove('preload');
  });
</script>
</head><body>
  <div class="layout">
    <aside class="sidebar">
      <div class="logo"><span class="logo-full">Med Tools Hub</span><span class="logo-short">MTH</span></div>
      <nav>
        <a href="main.html"><span class="icon">üè†</span><span  data-i18n="header.principal">Principal</span></a>
        <a href="vademecum.html" class="active"><span class="icon">üíä</span><span  data-i18n="header.vademecum">Vademecum</span></a>
        <a href="herramientas.html"><span class="icon">üîß</span><span  data-i18n="header.herramientas">Herramientas</span></a>
        <a href="turnos.html"><span class="icon">üìÖ</span><span  data-i18n="header.turnos">Turnos</span></a>
        <a href="sugerencias.html"><span class="icon">üí¨</span><span  data-i18n="header.sugerencias">Sugerencias</span><span id="sugerenciasBadge" class="sidebar-notification-badge" style="display:none;">0</span></a>
        <a href="configuracion.html"><span class="icon">‚öôÔ∏è</span><span  data-i18n="header.configuracion">Configuraci√≥n</span></a>
        <a href="admin.html" id="adminNavLink" style="display:none;"><span class="icon">üõ†Ô∏è</span><span  data-i18n="header.admin">Administraci√≥n</span><span id="adminBadge" class="sidebar-notification-badge" style="display:none;">0</span></a>
      </nav>
    </aside>
    <div class="content">
      <header class="header">
        <button id="btnToggleSidebar" type="button"></button>
        <div class="header-title-group">
          <h2>üíä Vademecum Pedi√°trico</h2>
          <p class="header-subtitle">Consulta r√°pida de medicamentos y diluciones para pediatr√≠a y neonatolog√≠a</p>
        </div>
        <div id="colombiaClock"></div>
        <div class="user-info">
          <img id="avatarTop" alt="">
          <span id="mainUserInfo" class="text-muted"></span>
          <button class="btn danger sm" type="button" onclick="logout()"  data-i18n="header.logout">Salir</button>
        </div>
      </header>
      <main>

        <section class="card glass">
          <!-- Stats -->
          <div class="stats-row">
            <div class="stat-badge">
              <strong id="totalDrugs">0</strong>
              <span>medicamentos</span>
            </div>
            <div class="stat-badge">
              <strong id="filteredDrugs">0</strong>
              <span>resultados</span>
            </div>
          </div>

          <!-- Search -->
          <div class="search-box-container">
            <span class="search-icon">üîç</span>
            <input id="drugSearch" type="search" placeholder="Buscar por nombre de f√°rmaco o grupo..." autocomplete="off">
          </div>

          <!-- Table -->
          <div class="table-wrap">
            <table id="drugTable">
              <thead>
                <tr>
                  <th data-i18n="vademecum.nombre">F√°rmaco</th>
                  <th data-i18n="admin.medicamentos">Grupo</th>
                  <th data-i18n="vademecum.dosis">Diluci√≥n sugerida</th>
                  <th data-i18n="common.ayuda">Comentarios</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>

          <!-- Coming Soon Banner -->
          <div class="coming-soon">
            <h4>üöÄ Pr√≥ximamente</h4>
            <p>Agregaremos c√°lculos autom√°ticos de dosis, f√≥rmulas interactivas y m√°s funcionalidades</p>
          </div>
        </section>

        <footer class="app-footer">
          <div class="footer-links">
            <a href="privacidad.html">Pol√≠tica de Privacidad</a>
            <span class="separator">|</span>
            <a href="terminos.html">T√©rminos y Condiciones</a>
            <span class="separator">|</span>
            <a href="aviso-legal.html">Aviso Legal</a>
            <span class="separator">|</span>
            <a href="cookies.html">Cookies</a>
          </div>
          <p class="trademark">NBR¬Æ 2025 | Med Tools Hub</p>
          <p class="contact">contacto@medtoolshub.cloud</p>
        </footer>
      </main>
    </div>
  </div>
  <script src="script.js"></script>
  <script>
    // Update stats when table loads
    const originalRenderDrugs = window.renderDrugsTable;
    if (typeof originalRenderDrugs === 'function') {
      window.renderDrugsTable = function(drugs) {
        originalRenderDrugs(drugs);
        document.getElementById('totalDrugs').textContent = window.allDrugs ? window.allDrugs.length : 0;
        updateFilteredCount();
      };
    }

    // Update filtered count
    function updateFilteredCount() {
      const tbody = document.querySelector('#drugTable tbody');
      const visibleRows = tbody ? tbody.querySelectorAll('tr:not([style*="display: none"])').length : 0;
      document.getElementById('filteredDrugs').textContent = visibleRows;
    }

    // Monitor search to update filtered count
    const searchInput = document.getElementById('drugSearch');
    if (searchInput) {
      searchInput.addEventListener('input', function() {
        setTimeout(updateFilteredCount, 100);
      });
    }

    // Initial count
    setTimeout(function() {
      const totalEl = document.getElementById('totalDrugs');
      const filteredEl = document.getElementById('filteredDrugs');
      if (window.allDrugs) {
        totalEl.textContent = window.allDrugs.length;
        filteredEl.textContent = window.allDrugs.length;
      }
    }, 500);
  </script>
</body></html>
